<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outils de positionnement de mes habilet√©s technologiques en FAD</title>
    <!-- Biblioth√®ques externes -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary-bg: #2e3192;
            /* Slightly darker accent to improve text/link contrast on light backgrounds */
            --accent-color: #00796b;
            --header-height: 230px;
            --bg-light: #f4f7f6;
        [sD, sI, sE].forEach(s => s.classList.remove('stage-active'));

        let gLvl = "√Ä d√©terminer", gCol = "#888";
        if(globalAvg > 0) {
            if(globalAvg <= 1.6) { gLvl = "D√âBUTANT"; gCol = '#FF8F00'; sD.classList.add('stage-active'); }
            else if(globalAvg <= 2.4) { gLvl = "INTERM√âDIAIRE"; gCol = '#00B0FF'; sD.classList.add('stage-active'); sI.classList.add('stage-active'); }
            else { gLvl = "AVANC√â"; gCol = '#00E676'; sD.classList.add('stage-active'); sI.classList.add('stage-active'); sE.classList.add('stage-active'); }
        }
        
        if(totalAnswered >= 5) {
            document.getElementById('archetype-container').style.display = 'block';
            let cat0 = catAverages[0] || 0, cat1 = catAverages[1] || 0, cat2 = catAverages[2] || 0, cat3 = catAverages[3] || 0;
            let personaKey = (cat0 >= Math.max(cat1, cat2, cat3)) ? "architecte" : (cat3 >= Math.max(cat0, cat1, cat2)) ? "facilitateur" : (cat2 >= Math.max(cat0, cat1, cat3)) ? "explorateur" : "strat√®ge";
            if (globalAvg > 2.3 && (Math.max(...catAverages) - Math.min(...catAverages) < 0.7)) personaKey = "strat√®ge";
            currentPersonaTitle = archetypes[personaKey].t;
            document.getElementById('profile-type-badge').innerText = currentPersonaTitle;
            document.getElementById('profile-description').innerText = archetypes[personaKey].d;
        }

        document.getElementById('gauge-label').innerText = `Moyenne : ${currentAvg} (${gLvl})`;
        document.getElementById('gauge-label').style.color = gCol;
        document.getElementById('completion-tracker').innerText = totalAnswered + " / 20 questions r√©pondues";
        document.getElementById('resList').innerHTML = resHtml || "<p>R√©pondez au questionnaire.</p>";
        autoSaveData();
    }

    function autoSaveData() {
        const data = { name: document.getElementById('user-name').value, answers: {}, notes: {} };
        document.querySelectorAll('input:checked').forEach(i => data.answers[i.name] = i.value);
        for(let i=0; i<4; i++) data.notes[i] = document.getElementById(`notes-${i}`).value;
        try { localStorage.setItem('fad_final_secure', JSON.stringify(data)); } catch(e) { console.warn('LocalStorage failed', e); }
        const cloud = document.getElementById('save-cloud');
        // Use standardized utility classes: is-loading then is-success
        cloud.classList.remove('is-success', 'is-error');
        cloud.classList.add('is-loading');
        const now = new Date();
        const timeStr = now.toLocaleTimeString();
        cloud.title = `Sauvegarde auto : ${timeStr}`;
        // update aria for screen readers
        cloud.setAttribute('aria-label', `Sauvegarde en cours, ${timeStr}`);
        // keep save indicator compact: do not show visible text to avoid menu shift
        const labelEl = cloud.querySelector('.save-label');
        if(labelEl) labelEl.innerText = '';
        // clear previous timeouts if any
        if(cloud._saveTimeout) clearTimeout(cloud._saveTimeout);
        if(cloud._saveTimeout2) clearTimeout(cloud._saveTimeout2);
        cloud._saveTimeout = setTimeout(() => {
            cloud.classList.remove('is-loading');
            cloud.classList.add('is-success');
            // update aria to indicate success (no visible text to avoid layout shift)
            const finishTime = new Date().toLocaleTimeString();
            cloud.setAttribute('aria-label', `Sauvegarde termin√©e √† ${finishTime}`);
            // remove success state after a short delay
            cloud._saveTimeout2 = setTimeout(() => { cloud.classList.remove('is-success'); }, 2200);
        }, 700);
    }

    function saveJSON() {
        const data = JSON.parse(localStorage.getItem('fad_final_secure'));
        const a = document.createElement('a'); a.href = URL.createObjectURL(new Blob([JSON.stringify(data)], {type: "application/json"})); a.download = "positionnement.json"; a.click();
    }

    function loadJSON(e) {
        const reader = new FileReader();
        reader.onload = ev => {
            const data = JSON.parse(ev.target.result);
            document.getElementById('user-name').value = data.name || "";
            for(let k in data.answers) { let r = document.querySelector(`input[name="${k}"][value="${data.answers[k]}"]`); if(r) r.checked = true; }
            for(let k in data.notes) if(document.getElementById(`notes-${k}`)) document.getElementById(`notes-${k}`).value = data.notes[k];
            updateProgression();
        };
        reader.readAsText(e.target.files[0]);
    }

    function resetForm() {
        if(confirm("Effacer tout ?")) {
            document.getElementById('user-name').value = "";
            document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
            document.querySelectorAll('.notes-area').forEach(t => t.value = "");
            localStorage.removeItem('fad_final_secure');
            updateProgression();
        }
    }

    window.onload = () => {
        const saved = localStorage.getItem('fad_final_secure');
        if(saved) {
            const data = JSON.parse(saved);
            document.getElementById('user-name').value = data.name || "";
            for(let k in data.answers) { let r = document.querySelector(`input[name="${k}"][value="${data.answers[k]}"]`); if(r) r.checked = true; }
            for(let k in data.notes) if(document.getElementById(`notes-${k}`)) document.getElementById(`notes-${k}`).value = data.notes[k];
            updateProgression();
        }
        // Lancer une sauvegarde automatique toutes les 30 secondes
        if(!window._autoSaveInterval) {
            window._autoSaveInterval = setInterval(() => {
                autoSaveData();
            }, 30000);
        }
    };
</script>

<!-- Axe-core quick runner: append ?axe=1 to the URL to run an accessibility audit in the browser and log results to console -->
<script>
if (location.search.indexOf('axe=1') !== -1) {
    (function(){
        const s = document.createElement('script');
        s.src = 'https://cdnjs.cloudflare.com/ajax/libs/axe-core/4.8.3/axe.min.js';
        s.onload = () => {
            console.info('axe-core loaded ‚Äî running audit (wcag2a/wcag2aa)...');
            axe.run(document, { runOnly: { type: 'tag', values: ['wcag2a','wcag2aa'] } }, (err, results) => {
                if (err) { console.error('axe error', err); return; }
                console.log('Axe results:', results);
                const critical = results.violations.filter(v => v.impact === 'critical' || v.impact === 'serious');
                if (critical.length) {
                    console.group('Axe critical/serious violations');
                    critical.forEach(v => { console.warn(v.id, v.impact, v.help, v.nodes.length, v.nodes.map(n=>n.target)); });
                    console.groupEnd();
                    alert('Axe audit: ' + critical.length + ' critical/serious violation(s) found ‚Äî check console for details.');
                } else {
                    console.info('Axe: no critical or serious violations found.');
                    alert('Axe audit: no critical/serious violations found.');
                }
            });
        };
        document.head.appendChild(s);
    })();
}
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outils de positionnement de mes habilet√©s technologiques en FAD</title>
    <!-- Biblioth√®ques externes -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary-bg: #2e3192;
            /* Slightly darker accent to improve text/link contrast on light backgrounds */
            --accent-color: #00796b;
            --header-height: 230px;
            --bg-light: #f4f7f6;
            --panel-bg: #ffffff;
            --text-main: #333333;
            --question-bg: #f8f9fa;
            --border-color: #dddddd;
            
            --color-cat-0: #FF8F00; /* √âlaboration */
            --color-cat-1: #00B0FF; /* D√©marche */
            --color-cat-2: #00E676; /* Organisation */
            --color-cat-3: #D500F9; /* Encadrement */

            --color-debutant: #FF8F00;
            --color-inter: #00B0FF;
            --color-expert: #00E676;

            --card-border-danger: #e74c3c;
            --card-border-gestion: #00a99d;
            --card-border-result: #8e44ad;
        }

        .dark-mode {
            --bg-light: #121212;
            --panel-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --question-bg: #2d2d2d;
            --border-color: #444444;
            --accent-color: #00d1c1;
        }

        * { box-sizing: border-box; scroll-behavior: smooth; }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0; padding: 0;
            height: 100vh;
            display: flex; flex-direction: column;
            overflow: hidden;
            background-color: var(--bg-light);
            color: var(--text-main);
            transition: background 0.3s, color 0.3s;
        }

        header {
            height: var(--header-height);
            background: linear-gradient(135deg, #1b1e5d 0%, #2e3192 100%);
            color: white;
            padding: 20px 30px;
            display: flex; flex-direction: column; justify-content: space-between; align-items: center;
            box-shadow: 0 3px 15px rgba(0,0,0,0.3);
            z-index: 1000; flex-shrink: 0;
        }

        header h1 { margin: 0; font-size: 1.8rem; text-transform: uppercase; letter-spacing: 1px; text-align: center; }
        .header-profile { display: flex; align-items: center; gap: 10px; font-size: 1.1rem; margin: 5px 0; opacity: 0.9; }

        #user-name {
            background: rgba(255,255,255,0.1); border: none; border-bottom: 2px solid var(--accent-color);
            color: white; padding: 2px 10px; font-weight: bold; text-align: center; width: 220px; border-radius: 4px 4px 0 0;
        }

        .action-station { display: flex; gap: 12px; justify-content: center; width: 100%; margin-top: 12px; align-items: center; }

        /* Harmonisation des boutons d'action dans l'en-t√™te */
        button.action-card {
            background: rgba(255,255,255,0.08); /* l√©ger fond translucide pour s'int√©grer au header */
            color: white; border: none; /* suppression bord externe pour un look plus moderne */
            padding: 8px 14px; border-radius: 999px; cursor: pointer; font-weight: 700; font-size: 0.92rem;
            transition: transform 0.22s ease, box-shadow 0.22s ease, filter 0.18s ease;
            display: inline-flex; flex-direction: row; align-items: center; gap: 10px; box-shadow: none; min-width: 80px;
            border-bottom: 3px solid transparent; /* r√©serv√© aux classes de couleur (danger/gestion/result) */
            backdrop-filter: blur(4px);
        }
        /* Ic√¥ne ronde √† gauche (maintenant .icon) */
        .action-card .icon {
            display: inline-flex; align-items: center; justify-content: center; width: 30px; height: 30px;
            border-radius: 50%; background: rgba(255,255,255,0.12); font-size: 14px; line-height: 1; box-shadow: 0 2px 6px rgba(0,0,0,0.12);
        }
        .action-card .icon svg { width: 18px; height: 18px; color: white; }
        .action-card .btn-label { display: inline-block; }
        /* Focus visible accessible pour les boutons (clavier) */
        button.action-card:focus { outline: none; box-shadow: 0 0 0 4px rgba(0,169,157,0.18), 0 6px 18px rgba(0,0,0,0.18); transform: translateY(-3px); }
        button.action-card:focus .icon { background: rgba(255,255,255,0.16); }
        /* Garder les couleurs sp√©cifiques via la bordure inf√©rieure */
        .btn-card-danger { border-bottom-color: var(--card-border-danger) !important; }
        .btn-card-gestion { border-bottom-color: var(--card-border-gestion) !important; }
        .btn-card-result { border-bottom-color: var(--card-border-result) !important; }
        button.action-card:hover { transform: translateY(-6px); box-shadow: 0 10px 18px rgba(0,0,0,0.22); filter: brightness(1.06); }

        /* Dark mode: ajuster le contraste des boutons */
        .dark-mode header button.action-card { background: rgba(255,255,255,0.04); color: white; }
        .dark-mode header button.action-card > span { background: rgba(255,255,255,0.06); }

    /* Indicateur de sauvegarde : √©tat actif (en cours) et succ√®s */
    .save-indicator { cursor: default; display: inline-flex; align-items: center; gap: 8px; padding: 6px 8px; border-radius: 999px; background: rgba(255,255,255,0.04); color: rgba(255,255,255,0.95); transition: transform 0.18s, opacity 0.18s, box-shadow 0.2s; font-weight:600 }
    .save-indicator .cloud-svg { width: 18px; height: 18px; display:inline-block; }
    .save-indicator .cloud-svg svg { width:100%; height:100%; color: white; filter: drop-shadow(0 1px 1px rgba(0,0,0,0.25)); }
    .save-indicator.active { animation: pulseBig 1s infinite; transform: scale(1.03); box-shadow: 0 6px 22px rgba(0,169,157,0.16); }
    .save-indicator.success { animation: pop 0.45s ease forwards; color: #ffffff; background: linear-gradient(90deg,#2ecc71,#27ae60); box-shadow: 0 8px 28px rgba(39,174,96,0.28); }
    @keyframes pulseBig { 0% { box-shadow: 0 0 0 0 rgba(0,169,157,0.14);} 50% { box-shadow: 0 0 0 14px rgba(0,169,157,0.02);} 100% { box-shadow: 0 0 0 0 rgba(0,169,157,0.0);} }
    @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.18); } 100% { transform: scale(1); } }
    .sr-only { position: absolute !important; width: 1px !important; height: 1px !important; padding: 0 !important; margin: -1px !important; overflow: hidden !important; clip: rect(0,0,0,0) !important; white-space: nowrap !important; border: 0 !important; }

    /* Top-left placement for dark/save tools */
    .top-left-tools { position: absolute; left: 16px; top: 12px; display: flex; gap: 10px; align-items: center; z-index: 1200; }
    .top-left-tools .dark-mode-card { padding: 6px; border-radius: 8px; background: rgba(255,255,255,0.02); color: rgba(255,255,255,0.85); font-size: 0.9rem; }
    .top-left-tools .dark-mode-card:hover { background: rgba(255,255,255,0.04); }
    /* compact save indicator in top-left */
    .top-left-tools .save-indicator { padding: 6px; gap:6px; background: transparent; box-shadow: none; }
    .top-left-tools .save-indicator .cloud-svg svg { width:16px; height:16px; }
    .top-left-tools .save-indicator.active { box-shadow: 0 6px 18px rgba(0,169,157,0.12); transform: scale(1.02); }
    .top-left-tools .save-indicator.success { background: rgba(39,174,96,0.12); color: white; box-shadow: 0 8px 20px rgba(39,174,96,0.18); }

    .settings-stack { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 6px; margin-left: 8px; }
        .dark-mode-card { background: none; border: none; font-size: 1.4rem; cursor: pointer; color: white; transition: transform 0.3s; }
    .dark-mode-card .icon { display:inline-flex; align-items:center; justify-content:center; width:26px; height:26px; }
    .dark-mode-card .icon svg { width:20px; height:20px; color: white; }

        main { display: flex; flex: 1; height: calc(100vh - var(--header-height)); overflow: hidden; }

        #panel-questions { width: 550px; background: var(--panel-bg); border-right: 1px solid var(--border-color); overflow-y: auto; padding: 25px; flex-shrink: 0; position: relative; }

        .quick-nav { display: flex; gap: 5px; margin-bottom: 20px; position: sticky; top: -25px; background: var(--panel-bg); padding: 10px 0; z-index: 100; border-bottom: 1px solid var(--border-color); }
        .nav-btn { background: var(--question-bg); border: none; padding: 5px 12px; border-radius: 4px; cursor: pointer; font-size: 0.7rem; font-weight: bold; color: var(--text-main);}

        #right-container { flex: 1; display: flex; flex-direction: column; overflow: hidden; }

        /* --- Section Ma√Ætrise Globale : Piliers de Cristal --- */
        #panel-chart {
            height: 380px; background: var(--panel-bg); border-bottom: 1px solid var(--border-color);
            display: flex; flex-direction: column; justify-content: flex-start; align-items: center; 
            padding: 15px; flex-shrink: 0;
            background: radial-gradient(circle at center, var(--panel-bg) 0%, var(--bg-light) 100%);
            position: relative;
        }

        .pillars-container {
            display: flex; justify-content: space-around; align-items: flex-end;
            width: 100%; max-width: 500px; height: 160px; margin: 10px 0;
            position: relative; padding: 0 20px;
        }

        .pillar-wrapper {
            display: flex; flex-direction: column; align-items: center; width: 60px; height: 100%;
        }

        .pillar-glass {
            width: 35px; height: 130px; background: rgba(0,0,0,0.05); border: 1px solid var(--border-color);
            border-radius: 5px; position: relative; overflow: hidden;
            display: flex; align-items: flex-end;
        }
        .dark-mode .pillar-glass { background: rgba(255,255,255,0.05); }

        .pillar-fill {
            width: 100%; height: 0%; transition: height 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }

        /* Effet de grille √† l'int√©rieur des piliers */
        .pillar-dots {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(rgba(255,255,255,0.3) 1px, transparent 1px);
            background-size: 4px 4px; pointer-events: none;
        }

        .pillar-label { font-size: 0.65rem; font-weight: bold; margin-top: 8px; text-transform: uppercase; color: var(--primary-bg); text-align: center; }
        .dark-mode .pillar-label { color: var(--accent-color); }

        /* Ligne de convergence globale */
        #global-avg-line {
            position: absolute; left: 45px; right: 45px; height: 2px;
            background: white; box-shadow: 0 0 10px white;
            z-index: 10; opacity: 0; transition: bottom 1s, opacity 0.5s;
            pointer-events: none;
        }
        #global-avg-line::after {
            content: 'Moyenne'; position: absolute; right: -40px; top: -7px;
            font-size: 0.5rem; font-weight: bold; color: var(--primary-bg);
            background: white; padding: 2px 4px; border-radius: 3px;
        }

        #gauge-label { font-weight: bold; font-size: 1.3rem; margin-top: 5px; text-align: center; }

        #archetype-container { margin-top: 5px; text-align: center; }
        #profile-type-badge { display: inline-block; font-size: 0.85rem; font-weight: 800; padding: 4px 14px; border-radius: 20px; background: var(--primary-bg); color: white; text-transform: uppercase; letter-spacing: 1px; }
        #profile-description { font-size: 0.75rem; margin-top: 4px; color: var(--text-main); font-style: italic; max-width: 400px; line-height: 1.2; }

        .growth-container { display: flex; gap: 30px; margin-top: 10px; }
    .growth-stage { display: flex; flex-direction: column; align-items: center; opacity: 0.2; filter: grayscale(100%); transition: all 0.5s; }
        .growth-stage span { font-size: 1.4rem; }
        .stage-active { opacity: 1; filter: grayscale(0); transform: scale(1.1); }

    /* Improved contrast for small helper text */
    #completion-tracker { font-size: 0.65rem; color: #555; margin-top: 5px; font-style: italic; }

        #panel-resources { flex: 1; overflow-y: auto; padding: 25px; background: var(--bg-light); border-top: 2px solid var(--border-color); }
        .notes-area { margin-top: 15px; width: 100%; padding: 10px; border: 1px dashed var(--accent-color); border-radius: 6px; background: var(--panel-bg); color: var(--text-main); font-family: inherit; font-size: 0.85rem; resize: vertical; min-height: 60px; }
        .category-title-container { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--accent-color); margin: 25px 0 15px 0; padding-bottom: 5px; }
        .category-title { color: var(--primary-bg); margin: 0; font-size: 1.05rem; font-weight: bold; }
        .question-box { background: var(--question-bg); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border-color); transition: all 0.3s; }
        .question-box.answered { border-left: 5px solid var(--accent-color); }
        .option { display: flex; align-items: flex-start; margin: 10px 0; cursor: pointer; font-size: 0.88rem; }
        .option input { margin-right: 12px; margin-top: 3px; accent-color: var(--accent-color); flex-shrink: 0; }
        .res-cat-header { background: var(--primary-bg); color: white; padding: 8px 15px; border-radius: 5px; font-size: 0.95rem; font-weight: bold; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .res-level-tag { background: var(--accent-color); padding: 2px 10px; border-radius: 12px; font-size: 0.75rem; }
        .res-item { background: var(--panel-bg); padding: 12px; margin: 8px 0; border-radius: 6px; border: 1px solid var(--border-color); box-shadow: 0 2px 4px rgba(0,0,0,0.03); font-size: 0.9rem; }
    /* Use the primary (dark) color for links on light surfaces to meet contrast requirements */
    .res-item a { color: var(--primary-bg); font-weight: bold; text-decoration: none; }
        #res-preview-tooltip { position: absolute; display: none; z-index: 2000; width: 280px; background: var(--panel-bg); border: 2px solid var(--primary-bg); border-radius: 8px; padding: 12px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); font-size: 0.85rem; pointer-events: none; color: var(--text-main); }
        .info-icon { display: inline-flex; justify-content: center; align-items: center; width: 16px; height: 16px; background: var(--accent-color); color: white; border-radius: 50%; font-size: 10px; font-style: normal; margin-left: 5px; cursor: help; vertical-align: middle; }
    </style>
    <link rel="stylesheet" href="styles/ui.css">
</head>
<body>

<!-- SVG sprite (Heroicons-like) - symbols reused across the UI -->
<svg aria-hidden="true" style="display:none">
    <symbol id="icon-refresh" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20.49 9A9 9 0 1 0 21 12" />
        <path d="M21 3v6h-6" />
    </symbol>
    <symbol id="icon-save" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 3v12" />
        <path d="M8 11l4-4 4 4" />
        <path d="M21 21H3" />
    </symbol>
    <symbol id="icon-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 7v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7" />
        <path d="M16 3h-8l-2 4h12l-2-4z" />
    </symbol>
    <symbol id="icon-doc" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
        <path d="M14 2v6h6" />
        <path d="M16 13H8" />
        <path d="M16 17H8" />
    </symbol>
    <symbol id="icon-print" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 9V3h12v6" />
        <path d="M6 18H4a2 2 0 0 1-2-2v-3h20v3a2 2 0 0 1-2 2h-2" />
        <path d="M6 14h12v8H6z" />
    </symbol>
    <symbol id="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
    </symbol>
    <symbol id="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="4" />
        <path d="M12 2v2" />
        <path d="M12 20v2" />
        <path d="M4.93 4.93l1.41 1.41" />
        <path d="M17.66 17.66l1.41 1.41" />
        <path d="M2 12h2" />
        <path d="M20 12h2" />
        <path d="M4.93 19.07l1.41-1.41" />
        <path d="M17.66 6.34l1.41-1.41" />
    </symbol>
    <symbol id="icon-cloud" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 17.58A4 4 0 0 0 16 14H15a4 4 0 0 0-7.75-1.5A3 3 0 1 0 4 18h12a4 4 0 0 0 4-4"/>
    </symbol>
</svg>

<header>
    <!-- Top-left tools: dark-mode + save indicator (moved for a more discrete placement) -->
    <div class="top-left-tools" aria-hidden="false">
        <button class="dark-mode-card" onclick="toggleDarkMode()" id="dark-icon" title="Basculer mode sombre" aria-label="Basculer mode sombre">
            <svg class="icon" aria-hidden="true"><use href="#icon-moon"></use></svg>
        </button>
        <div class="save-indicator" id="save-cloud" title="Sauvegarde auto" role="status" aria-live="polite" aria-label="Indicateur de sauvegarde">
            <span class="cloud-svg" aria-hidden="true"><svg class="icon"><use href="#icon-cloud"></use></svg></span>
            <span class="sr-only">Sauvegarde automatique</span>
        </div>
    </div>
    <h1>Outils de positionnement de mes habilet√©s technologiques en FAD</h1>
    <div class="header-profile">Bonjour <input type="text" id="user-name" placeholder="Enseignant(e)" aria-label="Nom de l'enseignant(e)" oninput="autoSaveData()">, voici votre bilan.</div>
        <div class="action-station">
        <button class="action-card btn-card-danger" onclick="resetForm()" aria-label="R√©initialiser le questionnaire">
            <svg class="icon" aria-hidden="true"><use href="#icon-refresh"></use></svg>
            <span class="btn-label">R√©initialiser</span>
        </button>
        <button class="action-card btn-card-gestion" onclick="saveJSON()" aria-label="T√©l√©charger la sauvegarde JSON">
            <svg class="icon" aria-hidden="true"><use href="#icon-save"></use></svg>
            <span class="btn-label">Sauvegarder</span>
        </button>
        <button class="action-card btn-card-gestion" onclick="document.getElementById('fileInput').click()" aria-label="Ouvrir un fichier JSON de sauvegarde">
            <svg class="icon" aria-hidden="true"><use href="#icon-open"></use></svg>
            <span class="btn-label">Ouvrir</span>
        </button>
    <input type="file" id="fileInput" aria-label="Importer un fichier JSON" style="display:none" onchange="loadJSON(event)">
        <button class="action-card btn-card-result" onclick="exportPDF()" aria-label="G√©n√©rer le plan PDF">
            <svg class="icon" aria-hidden="true"><use href="#icon-doc"></use></svg>
            <span class="btn-label">Plan PDF</span>
        </button>
        <button class="action-card btn-card-result" onclick="window.print()" aria-label="Imprimer la page">
            <svg class="icon" aria-hidden="true"><use href="#icon-print"></use></svg>
            <span class="btn-label">Imprimer</span>
        </button>
        <!-- tools moved to top-left for a more discrete placement -->
    </div>
</header>

<div id="res-preview-tooltip" role="tooltip" aria-hidden="true"></div>

<main>
    <section id="panel-questions">
        <div class="quick-nav">
            <button class="nav-btn" onclick="document.getElementById('cat-0').scrollIntoView()">1. √âlaboration</button>
            <button class="nav-btn" onclick="document.getElementById('cat-1').scrollIntoView()">2. D√©marche</button>
            <button class="nav-btn" onclick="document.getElementById('cat-2').scrollIntoView()">3. Organisation</button>
            <button class="nav-btn" onclick="document.getElementById('cat-3').scrollIntoView()">4. Encadrement</button>
        </div>
        <div id="questions-list"></div>
    </section>

    <div id="right-container">
        <section id="panel-chart">
            <div class="pillars-container">
                <div id="global-avg-line"></div>
                <div class="pillar-wrapper">
                    <div class="pillar-glass"><div class="pillar-fill" id="fill-0" style="background:var(--color-cat-0);"><div class="pillar-dots"></div></div></div>
                    <span class="pillar-label">1. √âlaboration</span>
                </div>
                <div class="pillar-wrapper">
                    <div class="pillar-glass"><div class="pillar-fill" id="fill-1" style="background:var(--color-cat-1);"><div class="pillar-dots"></div></div></div>
                    <span class="pillar-label">2. D√©marche</span>
                </div>
                <div class="pillar-wrapper">
                    <div class="pillar-glass"><div class="pillar-fill" id="fill-2" style="background:var(--color-cat-2);"><div class="pillar-dots"></div></div></div>
                    <span class="pillar-label">3. Organisation</span>
                </div>
                <div class="pillar-wrapper">
                    <div class="pillar-glass"><div class="pillar-fill" id="fill-3" style="background:var(--color-cat-3);"><div class="pillar-dots"></div></div></div>
                    <span class="pillar-label">4. Encadrement</span>
                </div>
            </div>
            
            <div id="gauge-label">Moyenne : 0.00</div>

            <div id="archetype-container" style="display:none">
                <div id="profile-type-badge">ARCH√âTYPE</div>
                <div id="profile-description">Description du profil...</div>
            </div>

            <div class="growth-container">
                <div class="growth-stage" id="stage-debut"><span aria-hidden="true">üå±</span></div>
                <div class="growth-stage" id="stage-inter"><span aria-hidden="true">üåø</span></div>
                <div class="growth-stage" id="stage-expert"><span aria-hidden="true">üå≥</span></div>
            </div>
            <div id="completion-tracker">0 / 20 questions r√©pondues</div>
        </section>

        <section id="panel-resources">
            <h2 style="margin-top:0">Votre Plan de Formation Personnalis√©</h2>
            <div id="resList"><p>R√©pondez au questionnaire pour g√©n√©rer vos recommandations sur mesure.</p></div>
            <div id="transversal-resources">
                <div class="category-title">ORGANISMES & COMMUNAUT√âS D'EXPERTS</div>
                <div class="res-item"><strong>FADIO</strong> - Expertise Qu√©bec. <a href="https://fadio.net/" target="_blank" rel="noopener noreferrer" onmouseenter="showPreview(event, 'FADIO', 'Partage d‚Äôexpertise interordres au Qu√©bec.')" onmouseleave="hidePreview()" onfocus="showPreview(event, 'FADIO', 'Partage d‚Äôexpertise interordres au Qu√©bec.')" onblur="hidePreview()">Visiter</a></div>
                <div class="res-item"><strong>CADRE21</strong> - Badges num√©riques. <a href="https://www.cadre21.org/axefad/" target="_blank" rel="noopener noreferrer" onmouseenter="showPreview(event, 'CADRE21', 'Formations certifi√©es enseignants.')" onmouseleave="hidePreview()" onfocus="showPreview(event, 'CADRE21', 'Formations certifi√©es enseignants.')" onblur="hidePreview()">Visiter</a></div>
                <div style="text-align: center; margin-top: 15px;">
                    <!-- Embedded Sommet Num√©rique logo (base64 data URI). Local copy avoids CORS/hotlinking and works offline. -->
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAFFCAYAAADCTLtQAAAAxXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBbDsMgDPvnFDtCHhTCcejaSbvBjj9DgtROs4TjYmpC0vl5v9JjQDinvFUrrRQCcstNOoSRo09mypMn2lJ830dQSEFVVHXDilde+/HDqtyhtkuQPcPY70bLXsV+guIiHR0JxBFBLYJU3OAI6P4sKs3q9Qn7SXeYrzTIdPZCVMP7+c4V0zs23KMip7ISWDV7AzqWJu0wGExqOAiGhjG5RicYyL85LaQv+u1ZNKtYu7EAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1OlRVsc2kHEIUN1soMfiGOpYhEslLZCqw4ml35Bk4YkxcVRcC04+LFYdXBx1tXBVRAEP0BcXZwUXaTE/zWFFjEeHPfj3b3H3TtAaFaZavbFAFWzjHQiLubyq6LvFYPwI4gQJiVm6snMYhau4+seHr7eRXmW+7k/R1ApmAzwiMQxphsW8Qbx7Kalc94nDrOypBCfE08YdEHiR67LDr9xLrVZ4JlhI5ueJw4Ti6UelnuYlQ2VeIY4oqga5Qs5hxXOW5zVap117slfGChoKxmu0xxFAktIIgURMuqooAoLUVo1UkykaT/u4h9p+1PkkslVASPHAmpQIbX94H/wu1uzOD3lJAXiQP+LbX+MAb5doNWw7e9j226dAN5n4Err+mtNYO6T9EZXixwBQ9vAxXVXk/eAyx1g+EmXDKkteWkKxSLwfkbflAdCt8DAmtNbZx+nD0CWulq+AQ4OgfESZa+7vNvf29u/Zzr9/QC063LBcM23LAAADXppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6MGU3ODlmYTktODlhNy00YjFlLWJjYjYtYmI1NjRkYmMyZWUzIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmY5YzNiNjRmLWZiYjMtNDdkMC05Y2MwLTJhZmMxYmQ0N2FkNSIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjA1NDJhNTUxLWFjMzctNGFlYy1hZDg3LWJlMDc1MTIzOGRiMCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjk5NDQ5ODEzMDY5MDA3IgogICBHSU1QOlZlcnNpb249IjIuMTAuMzQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzOjExOjA4VDA4OjIzOjI3LTA1OjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyMzoxMTowOFQwODoyMzoyNy0wNTowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxZDAwZDU5LThkZjItNDVmNS1iMjUzLTFjMjNjZTBhMDk0MyIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0xMS0wOFQwODoyMzozM0VzdDoiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+DvlrFAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAABOvQAATr0Bc2poFAAAAAd0SU1FB+cLCA0XITTDn/8AACAASURBVHja7Z13nBTl/cffe0e9o/ehF+kCgoIgoDhi7/VnNDokGmsUe0wsiVEToya2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" alt="Logo Sommet num√©rique 2024" style="max-width:100px; height:auto; border-radius:10px; border:2px solid var(--accent-color); display:inline-block;" loading="lazy">
                </div>
            </div>
        </section>
    </div>
</main>

<script>
    const archetypes = {
        strat√®ge: { t: "Le Strat√®ge", d: "Profil √©quilibr√©. Vous jonglez avec brio entre technique, p√©dagogie et accompagnement." },
        architecte: { t: "L'Architecte", d: "Expert en planification. Votre force r√©side dans le design p√©dagogique et la structure." },
        facilitateur: { t: "Le Facilitateur", d: "L'humain est au c≈ìur. Vous privil√©giez un encadrement bienveillant et un soutien constant." },
        explorateur: { t: "L'Explorateur Techno", d: "Ma√Ætre des outils. Vous dynamisez vos cours par l'innovation et les ressources multim√©dias." }
    };

    const glossary = { "ADDIE": "Design : Analyse, Design, D√©v., Imp., √âval.", "MISA": "Ing√©nierie Syst√®me Apprentissage.", "Triple concordance": "Alignement Objectifs/Activit√©s/√âvals.", "N√©tiquette": "Politesse num√©rique.", "AFEST": "Action Formation Situation Travail.", "Synchrone": "Temps r√©el.", "Asynchrone": "Diff√©r√©." };
    // Make glossary inline hints keyboard accessible (tab/focus) and mouse hover
    function addGlossaryIcon(term) { return `<span role="button" tabindex="0" style="border-bottom: 1px dotted var(--accent-color); cursor:help" onmouseenter="showPreview(event, '${term}', '${glossary[term]}')" onmouseleave="hidePreview()" onfocus="showPreview(event, '${term}', '${glossary[term]}')" onblur="hidePreview()">${term}<i class="info-icon">i</i></span>`; }

    const questions = [
        { id: 0, cat: "1. √âLABORATION DU COURS", q: [
            { id: "q1", t: `1.1 Mod√®le utilis√© (${addGlossaryIcon('ADDIE')}, ${addGlossaryIcon('MISA')}) ?`, a: "Non, exp√©rience pr√©sentiel", b: "Pas syst√©matiquement", c: "R√©guli√®rement adapt√©" },
            { id: "q2", t: "1.2 Test des outils technologiques ?", a: "Non", b: "Quelques outils", c: "Tout test√©" },
            { id: "q3", t: "1.3 Consultation ressources existantes ?", a: "Tout cr√©er", b: "Occasionnellement", c: "Inventaire complet" },
            { id: "q4", t: "1.4 √âquipe multidisciplinaire ?", a: "Seul", b: "Ponctuellement", c: "√âquipe compl√®te" },
            { id: "q5", t: "1.5 Plan d'am√©lioration continue ?", a: "Non", b: "Commentaires", c: "Plan formel" }
        ]},
        { id: 1, cat: "2. D√âMARCHE D'APPRENTISSAGE", q: [
            { id: "q6", t: `2.1 Respect de la ${addGlossaryIcon('Triple concordance')} ?`, a: "Pas toujours", b: "In√©gal", c: "Syst√©matique" },
            { id: "q7", t: "2.2 Vari√©t√© des activit√©s ?", a: "Lectures", b: "Moyenne", c: "Grande vari√©t√©" },
            { id: "q8", t: "2.3 Choix offerts aux apprenants ?", a: "Parcours unique", b: "Limit√©", c: "Plusieurs chemins" },
            { id: "q9", t: "2.4 Structure du contenu ?", a: "Cours longs", b: "Unit√©s larges", c: "√âl√©ments cibl√©s" },
            { id: "q10", t: "2.5 Clart√© des attentes ?", a: "√Ä d√©duire", b: "Ponctuelle", c: "Crit√®res affich√©s" }
        ]},
        { id: 2, cat: "3. ORGANISATION DU COURS", q: [
            { id: "q11", t: "3.1 Plan d'√©tudes sp√©cifique FAD ?", a: "Adapt√© pr√©sentiel", b: "Incomplet", c: "Complet" },
            { id: "q12", t: "3.2 Interface num√©rique ?", a: "D√©cousu", b: "Peu intuitif", c: "Convivial" },
            { id: "q13", t: "3.3 Ressources multim√©dias ?", a: "Texte/PDF", b: "Vid√©os simples", c: "Interactif/Podcast" },
            { id: "q14", t: "3.4 Choix justifi√©s ?", a: "Populaires", b: "Besoins partiels", c: "Raison claire" },
            { id: "q15", t: `3.5 √âquilibre ${addGlossaryIcon('Synchrone')} / ${addGlossaryIcon('Asynchrone')} ?`, a: "Asynchrone", b: "M√©lange in√©gal", c: "√âquilibre pens√©" }
        ]},
        { id: 3, cat: "4. ENCADREMENT DES APPRENANTS", q: [
            { id: "q16", t: "4.1 Accueil des apprenants ?", a: "D√©brouillardise", b: "Message simple", c: "S√©ance structur√©e" },
            { id: "q17", t: "4.2 Formation aux outils ?", a: "Suppos√© acquis", b: "Guides", c: "Proactif" },
            { id: "q18", t: `4.3 ${addGlossaryIcon('N√©tiquette')} et d√©lais ?`, a: "Non d√©finis", b: "Peu clair", c: "Pr√©cis" },
            { id: "q19", t: "4.4 Soutien autonomie ?", a: "√Ä eux de s'organiser", b: "Conseils", c: "Strat√©gies" },
            { id: "q20", t: `4.5 Engagement et ${addGlossaryIcon('AFEST')} ?`, a: "Travaux", b: "Ponctuel", c: "Suivi r√©gulier" }
        ]}
    ];

    const resourcesData = {
        0: { debut: [{t:"CADRE21 - Explorateur", d:"Structuration syst√©mique.", l:"https://cadre21.org/groupe-de-cours/scenarisation-pedagogique-en-fad"},{t:"TELUQ - Design", d:"Template pratique.", l:"https://jenseigneadistance.teluq.ca/mod/page/view.php?id=485"},{t:"Wikipedia - ADDIE", d:"Th√©orie.", l:"https://fr.wikipedia.org/wiki/Mod√®le_ADDIE"}], inter: [{t:"CADRE21 - Architecte", d:"Design complexe.", l:"https://www.cadre21.org/axefad/"}, {t:"C√©gep Trois-Rivi√®res", d:"Mod√®les FAD.", l:"https://pratiquesfad.ca/quel-modele-choisir-ca-depend/"}], expert: [{t:"CADRE21 - Innovateur", d:"Leadership FAD.", l:"https://www.cadre21.org/axefad/"}, {t:"Beedeez", d:"Mod√®les avanc√©s.", l:"https://www.beedeez.com/fr/blog/quest-ce-que-le-modele-addie"}] },
        1: { debut: [{t:"HEC Montr√©al - Alignement", d:"Triple concordance.", l:"https://enseigner.hec.ca/pedagogie/alignement-pedagogique/"}, {t:"CADRE21 - P√©dagogie active", d:"Bases.", l:"https://cadre21.org/groupe-de-cours/pedagogie-active-en-fad"}, {t:"Formagora", d:"M√©thode active.", l:"https://www.formagora.fr/actualites/quest-ce-que-la-methode-pedagogique-active-et-comment-la-pratiquer"}], inter: [{t:"CADRE21 - R√©pertoire", d:"20 strat√©gies.", l:"https://www.cadre21.org/axefad/repertoire-des-strategies-pedagogiques/"}, {t:"Univ. Bordeaux", d:"Alignement.", l:"https://enseigner.u-bordeaux.fr/politique-de-formation/"}], expert: [{t:"ENPC - Th√©ories", d:"Innovation.", l:"https://pedagotheque.enpc.fr/2016/05/04/quest-ce-que-la-pedagogie-active/"}, {t:"BBF - Mode d'emploi", d:"Projets/Cas.", l:"https://bbf.enssib.fr/consulter/bbf-2018-16-0016-002"}] },
        2: { debut: [{t:"Moodle - Lancement", d:"Fonctionnalit√©s.", l:"https://moodle.com/fr/"}, {t:"R√âCIT FAD - Technique", d:"Moodle/Outils.", l:"https://recitfad.ca/moodledocs/guide-conception-fad.html"}, {t:"Itslearning", d:"Optimisation.", l:"https://u2p-normandie.fr/optimiser-apprentissage-numerique/"}], inter: [{t:"AUF - Administration", d:"Gestion LMS.", l:"https://formations.auf.org/home/formation-ific/"}, {t:"R√âCIT FAD - Plugiciels", d:"Am√©liorer Moodle.", l:"https://ecolebranchee.com/plugiciels-sur-mesure-favoriser-apprentissage-moodle/"}], expert: [{t:"Moodle Workplace", d:"Personnalisation.", l:"https://moodle.com/fr/solutions/technologie-informatique/"}, {t:"FADIO - Ateliers", d:"Ing√©nierie r√©elle.", l:"https://fadio.net/evenements/semaine-de-la-formation-a-distance/ateliers-de-la-semaine-fad-2022/"}] },
        3: { debut: [{t:"The Conversation - Accompagner", d:"Motivation.", l:"https://theconversation.com/formation-a-distance-comment-accompagner-les-apprenants-quon-ne-rencontre-pas-241999"}, {t:"Sherpas", d:"Gestion du temps.", l:"https://sherpas.com/p/guide-soutien-scolaire/aider-gestion-temps-organisation.html"}, {t:"Le Social", d:"Sans rencontre.", l:"https://www.lesocial.fr/formation/1695-formation-a-distance-comment-accompagner-les-apprenants-quon-ne-rencontre-pas"}], inter: [{t:"OpenEdition - FOAD", d:"Approches techno.", l:"https://journals.openedition.org/dms/9061"}, {t:"EduQuest", d:"Autonomie.", l:"https://www.eduquest.fr/soutien-scolaire-a-domicile-comment-concilier-autonomie-et-encadrement/"}, {t:"WALT - Soutien", d:"Individualisation.", l:"https://www.walt-asso.fr/strategies-soutien-pedagogiques-individualisation-apprentissage/"}], expert: [{t:"Cabestan - AFEST", d:"Pratique r√©flexive.", l:"https://www.cabestan-formation.fr/formation-devenir-accompagnateur-afest-2-jours/"}, {t:"Icademie", d:"IA adaptive.", l:"https://www.icademie.com/fr/guide/les-differences-entre-formation-a-distance-fad-et-foad"}] }
    };

    const qList = document.getElementById('questions-list');
    questions.forEach(group => {
        qList.innerHTML += `<div class="category-title-container" id="cat-${group.id}"><h3 class="category-title">${group.cat}</h3><span class="cat-progress-badge" id="badge-${group.id}">0%</span></div>`;
        group.q.forEach(item => {
            qList.innerHTML += `<div class="question-box" id="box-${item.id}"><span class="question-text">${item.t}</span>
                <label class="option"><input type="radio" name="${item.id}" value="1" onchange="updateProgression('${item.id}')"> A) ${item.a}</label>
                <label class="option"><input type="radio" name="${item.id}" value="2" onchange="updateProgression('${item.id}')"> B) ${item.b}</label>
                <label class="option"><input type="radio" name="${item.id}" value="3" onchange="updateProgression('${item.id}')"> C) ${item.c}</label></div>`;
        });
        qList.innerHTML += `<textarea class="notes-area" id="notes-${group.id}" placeholder="R√©flexions pour ce domaine (optionnel)..." oninput="autoSaveData()"></textarea>`;
    });

    function showPreview(e, title, desc) { 
        const tooltip = document.getElementById('res-preview-tooltip');
        tooltip.innerHTML = `<h4>${title}</h4><p>${desc}</p>`;
        tooltip.style.display = 'block'; tooltip.style.left = (e.pageX + 15) + 'px'; tooltip.style.top = (e.pageY + 15) + 'px';
        tooltip.setAttribute('aria-hidden', 'false');
    }

    function hidePreview() { const t = document.getElementById('res-preview-tooltip'); t.style.display = 'none'; t.setAttribute('aria-hidden','true'); }

    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const btn = document.getElementById('dark-icon');
        const moonUse = '<svg class="icon" aria-hidden="true"><use href="#icon-moon"></use></svg>';
        const sunUse = '<svg class="icon" aria-hidden="true"><use href="#icon-sun"></use></svg>';
        btn.innerHTML = document.body.classList.contains('dark-mode') ? sunUse : moonUse;
    }

    function exportPDF() {
        const name = document.getElementById('user-name').value || "Enseignant(e)";
        const element = document.createElement('div');
        
        // --- NOUVEAUT√â : R√©cup√©ration des r√©flexions pour le PDF ---
        let reflectionsHtml = "";
        for (let i = 0; i < 4; i++) {
            const note = document.getElementById(`notes-${i}`).value.trim();
            if (note) {
                reflectionsHtml += `<p><strong>R√©flexion sur ${questions[i].cat} :</strong><br>${note.replace(/\n/g, '<br>')}</p>`;
            }
        }
        if (reflectionsHtml) reflectionsHtml = `<hr><h3 style="color:#2e3192">MES R√âFLEXIONS</h3>` + reflectionsHtml;
        // -----------------------------------------------------------

        element.innerHTML = `<h1 style="color:#2e3192; text-align:center">BILAN FAD : ${name.toUpperCase()}</h1>
            <div style="padding:20px; border:1px solid #ddd; border-radius:10px">
                <h2>Profil : ${currentPersonaTitle}</h2>
                <p>Moyenne : ${currentAvg}</p>
                <hr>
                ${document.getElementById('resList').innerHTML}
                ${reflectionsHtml}
            </div>`;
        
        html2pdf().set({ margin: 10, filename: `PlanFAD_${name}.pdf`, html2canvas: { scale: 2 }, jsPDF: { format: 'a4' } }).from(element).save();
    }

    let currentPersonaTitle = "";
    let currentAvg = "0.00";

    function updateProgression(lastId) {
        if(lastId) document.getElementById('box-'+lastId).classList.add('answered');
        let sumGlobal = 0, totalAnswered = 0, resHtml = "";
        let catAverages = [];

        questions.forEach((group, idx) => {
            let catSum = 0, catCount = 0;
            group.q.forEach(q => {
                const el = document.querySelector(`input[name="${q.id}"]:checked`);
                if(el) { catSum += parseInt(el.value); catCount++; }
            });
            document.getElementById('badge-'+group.id).innerText = Math.round((catCount / 5) * 100) + "%";
            
            const catAvg = catCount > 0 ? catSum / catCount : 0;
            catAverages.push(catAvg);
            sumGlobal += catSum; totalAnswered += catCount;

            // --- ANIMATION PILLIERS (GRADUELLE : 1/3, 1/2, 100%) ---
            let fillHeight = 0;
            if (catAvg > 0) {
                if (catAvg <= 2) {
                    fillHeight = 33.33 + (catAvg - 1) * 16.67;
                } else {
                    fillHeight = 50 + (catAvg - 2) * 50;
                }
            }
            document.getElementById(`fill-${idx}`).style.height = fillHeight + "%";

            if(catCount > 0) {
                let key = catAvg <= 1.6 ? "debut" : (catAvg <= 2.4 ? "inter" : "expert");
                let label = catAvg <= 1.6 ? "D√âBUTANT" : (catAvg <= 2.4 ? "INTERM√âDIAIRE" : "EXPERT");
                resHtml += `<div class="res-cat-block"><div class="res-cat-header">${group.cat} <span class="res-level-tag">Niveau : ${label}</span></div>`;
                resourcesData[idx][key].forEach(res => { resHtml += `<div class="res-item"><strong>${res.t}</strong><br><a href="${res.l}" target="_blank" rel="noopener noreferrer" onmouseenter="showPreview(event, '${res.t.replace(/'/g, "\\'")}', '${res.d.replace(/'/g, "\\'")}')" onmouseleave="hidePreview()" onfocus="showPreview(event, '${res.t.replace(/'/g, "\\'")}', '${res.d.replace(/'/g, "\\'")}')" onblur="hidePreview()">Consulter</a></div>`; });
                resHtml += `</div>`;
            }
        });

        let globalAvg = totalAnswered > 0 ? (sumGlobal / totalAnswered) : 0;
        currentAvg = globalAvg.toFixed(2);
        
        // --- LIGNE DE MOYENNE GLOBALE (ALIGN√âE SUR LES PILLIERS) ---
        const line = document.getElementById('global-avg-line');
        if(globalAvg > 0) {
            let globalPercent = 0;
            if (globalAvg <= 2) globalPercent = 33.33 + (globalAvg - 1) * 16.67;
            else globalPercent = 50 + (globalAvg - 2) * 50;
            
            line.style.opacity = 1;
            line.style.bottom = (11 + (globalPercent / 100 * 130)) + "px"; 
        } else { line.style.opacity = 0; }

        const sD = document.getElementById('stage-debut'), sI = document.getElementById('stage-inter'), sE = document.getElementById('stage-expert');
        [sD, sI, sE].forEach(s => s.classList.remove('stage-active'));

        let gLvl = "√Ä d√©terminer", gCol = "#888";
        if(globalAvg > 0) {
            if(globalAvg <= 1.6) { gLvl = "D√âBUTANT"; gCol = '#FF8F00'; sD.classList.add('stage-active'); }
            else if(globalAvg <= 2.4) { gLvl = "INTERM√âDIAIRE"; gCol = '#00B0FF'; sD.classList.add('stage-active'); sI.classList.add('stage-active'); }
            else { gLvl = "AVANC√â"; gCol = '#00E676'; sD.classList.add('stage-active'); sI.classList.add('stage-active'); sE.classList.add('stage-active'); }
        }
        
        if(totalAnswered >= 5) {
            document.getElementById('archetype-container').style.display = 'block';
            let cat0 = catAverages[0] || 0, cat1 = catAverages[1] || 0, cat2 = catAverages[2] || 0, cat3 = catAverages[3] || 0;
            let personaKey = (cat0 >= Math.max(cat1, cat2, cat3)) ? "architecte" : (cat3 >= Math.max(cat0, cat1, cat2)) ? "facilitateur" : (cat2 >= Math.max(cat0, cat1, cat3)) ? "explorateur" : "strat√®ge";
            if (globalAvg > 2.3 && (Math.max(...catAverages) - Math.min(...catAverages) < 0.7)) personaKey = "strat√®ge";
            currentPersonaTitle = archetypes[personaKey].t;
            document.getElementById('profile-type-badge').innerText = currentPersonaTitle;
            document.getElementById('profile-description').innerText = archetypes[personaKey].d;
        }

        document.getElementById('gauge-label').innerText = `Moyenne : ${currentAvg} (${gLvl})`;
        document.getElementById('gauge-label').style.color = gCol;
        document.getElementById('completion-tracker').innerText = totalAnswered + " / 20 questions r√©pondues";
        document.getElementById('resList').innerHTML = resHtml || "<p>R√©pondez au questionnaire.</p>";
        autoSaveData();
    }

    function autoSaveData() {
        const data = { name: document.getElementById('user-name').value, answers: {}, notes: {} };
        document.querySelectorAll('input:checked').forEach(i => data.answers[i.name] = i.value);
        for(let i=0; i<4; i++) data.notes[i] = document.getElementById(`notes-${i}`).value;
        try { localStorage.setItem('fad_final_secure', JSON.stringify(data)); } catch(e) { console.warn('LocalStorage failed', e); }
        const cloud = document.getElementById('save-cloud');
        // Use standardized utility classes: is-loading then is-success
        cloud.classList.remove('is-success', 'is-error');
        cloud.classList.add('is-loading');
        const now = new Date();
        const timeStr = now.toLocaleTimeString();
        cloud.title = `Sauvegarde auto : ${timeStr}`;
        // update aria for screen readers
        cloud.setAttribute('aria-label', `Sauvegarde en cours, ${timeStr}`);
        // keep save indicator compact: do not show visible text to avoid menu shift
        const labelEl = cloud.querySelector('.save-label');
        if(labelEl) labelEl.innerText = '';
        // clear previous timeouts if any
        if(cloud._saveTimeout) clearTimeout(cloud._saveTimeout);
        if(cloud._saveTimeout2) clearTimeout(cloud._saveTimeout2);
        cloud._saveTimeout = setTimeout(() => {
            cloud.classList.remove('is-loading');
            cloud.classList.add('is-success');
            // update aria to indicate success (no visible text to avoid layout shift)
            const finishTime = new Date().toLocaleTimeString();
            cloud.setAttribute('aria-label', `Sauvegarde termin√©e √† ${finishTime}`);
            // remove success state after a short delay
            cloud._saveTimeout2 = setTimeout(() => { cloud.classList.remove('is-success'); }, 2200);
        }, 700);
    }

    function saveJSON() {
        const data = JSON.parse(localStorage.getItem('fad_final_secure'));
        const a = document.createElement('a'); a.href = URL.createObjectURL(new Blob([JSON.stringify(data)], {type: "application/json"})); a.download = "positionnement.json"; a.click();
    }

    function loadJSON(e) {
        const reader = new FileReader();
        reader.onload = ev => {
            const data = JSON.parse(ev.target.result);
            document.getElementById('user-name').value = data.name || "";
            for(let k in data.answers) { let r = document.querySelector(`input[name="${k}"][value="${data.answers[k]}"]`); if(r) r.checked = true; }
            for(let k in data.notes) if(document.getElementById(`notes-${k}`)) document.getElementById(`notes-${k}`).value = data.notes[k];
            updateProgression();
        };
        reader.readAsText(e.target.files[0]);
    }

    function resetForm() {
        if(confirm("Effacer tout ?")) {
            document.getElementById('user-name').value = "";
            document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
            document.querySelectorAll('.notes-area').forEach(t => t.value = "");
            localStorage.removeItem('fad_final_secure');
            updateProgression();
        }
    }

    window.onload = () => {
        const saved = localStorage.getItem('fad_final_secure');
        if(saved) {
            const data = JSON.parse(saved);
            document.getElementById('user-name').value = data.name || "";
            for(let k in data.answers) { let r = document.querySelector(`input[name="${k}"][value="${data.answers[k]}"]`); if(r) r.checked = true; }
            for(let k in data.notes) if(document.getElementById(`notes-${k}`)) document.getElementById(`notes-${k}`).value = data.notes[k];
            updateProgression();
        }
        // Lancer une sauvegarde automatique toutes les 30 secondes
        if(!window._autoSaveInterval) {
            window._autoSaveInterval = setInterval(() => {
                autoSaveData();
            }, 30000);
        }
    };
</script>

<!-- Axe-core quick runner: append ?axe=1 to the URL to run an accessibility audit in the browser and log results to console -->
<script>
if (location.search.indexOf('axe=1') !== -1) {
    (function(){
        const s = document.createElement('script');
        s.src = 'https://cdnjs.cloudflare.com/ajax/libs/axe-core/4.8.3/axe.min.js';
        s.onload = () => {
            console.info('axe-core loaded ‚Äî running audit (wcag2a/wcag2aa)...');
            axe.run(document, { runOnly: { type: 'tag', values: ['wcag2a','wcag2aa'] } }, (err, results) => {
                if (err) { console.error('axe error', err); return; }
                console.log('Axe results:', results);
                const critical = results.violations.filter(v => v.impact === 'critical' || v.impact === 'serious');
                if (critical.length) {
                    console.group('Axe critical/serious violations');
                    critical.forEach(v => { console.warn(v.id, v.impact, v.help, v.nodes.length, v.nodes.map(n=>n.target)); });
                    console.groupEnd();
                    alert('Axe audit: ' + critical.length + ' critical/serious violation(s) found ‚Äî check console for details.');
                } else {
                    console.info('Axe: no critical or serious violations found.');
                    alert('Axe audit: no critical/serious violations found.');
                }
            });
        };
        document.head.appendChild(s);
    })();
}
</script>
</body>
</html>
